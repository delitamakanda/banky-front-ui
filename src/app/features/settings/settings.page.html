<div class="mx-auto max-w-md p-4">
  <div class="mb-4 flex items-center justify-between">
    <div>
      <div class="text-sm text-[var(--muted)]">Banky</div>
      <div class="text-xl font-semibold">Settings</div>
    </div>

    <button (click)="back()"
            class="rounded-xl border border-[var(--border)] px-3 py-2 text-sm hover:bg-white/5 transition">
      Back
    </button>
  </div>

  <div class="rounded-3xl border border-[var(--border)] bg-[var(--surface)] p-4">
    <div class="text-sm text-[var(--muted)]">API base URL</div>

    <form [formGroup]="urlForm" (ngSubmit)="save()">
      <input type="text" formControlName="url"
             class="mt-2 w-full rounded-2xl border border-[var(--border)] bg-[var(--surface-2)] px-4 py-3 outline-none"
             placeholder="http://127.0.0.1:8000" />

      @if(urlForm.get('url')?.invalid) {
        <div class="mt-2 text-sm text-[var(--danger)]">
          Please enter a valid URL.
        </div>
      }
    </form>

    @if (error()) {
      <div class="mt-2 text-sm text-[var(--danger)]">{{ error() }}</div>
    }

    <div class="mt-4 flex gap-2">
      <button (click)="save()"
              class="flex-1 rounded-2xl px-4 py-3 font-medium border border-[var(--border)]
                 hover:bg-white/5 active:scale-[.99] transition">
        Save
      </button>

      <button (click)="reset()"
              class="rounded-2xl px-4 py-3 text-sm border border-[var(--border)]
                 text-[var(--muted)] hover:text-[var(--text)] hover:bg-white/5 transition">
        Reset
      </button>
    </div>

    <div class="mt-4 text-xs text-[var(--muted)]">
      Current: <span class="text-[var(--text)]">{{ currentUrl() }}</span>
    </div>
  </div>

  <div class="mt-4 rounded-3xl border border-[var(--border)] bg-[var(--surface)] p-4">
    <div class="text-sm text-[var(--muted)]">Session</div>

    <button (click)="logout()"
            class="mt-3 w-full rounded-2xl px-4 py-3 font-medium border border-[var(--border)]
               text-[var(--danger)] hover:bg-white/5 active:scale-[.99] transition">
      Log out
    </button>
  </div>
</div>
